{"ast":null,"code":"var _jsxFileName = \"F:\\\\react\\\\learning\\\\studyreact\\\\src\\\\day6\\\\components\\\\protect.js\";\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom'; //函数式\n\nfunction fn(bol, props, Comp) {\n  console.log(props, Comp);\n  return !bol ? /*#__PURE__*/React.createElement(Comp, Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6,\n      columnNumber: 17\n    }\n  })) : /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6,\n      columnNumber: 44\n    }\n  });\n} //  react 中没有vue那样的路由守卫 所以需要自己封装一个组件在组件进行类似的操作\n\n\nclass Protect extends React.Component {\n  render() {\n    let bol = localStorage.getItem('wwww');\n    let {\n      component: Comp,\n      level,\n      ...others\n    } = this.props;\n    console.log(others, Comp); // 4就是用户的level\n\n    let userLevel = 4;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, bol && level <= userLevel ? /*#__PURE__*/React.createElement(Route, {\n      component: Comp,\n      path: this.props.path,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 13\n      }\n    }) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}\n\nexport default Protect;","map":{"version":3,"sources":["F:/react/learning/studyreact/src/day6/components/protect.js"],"names":["React","Route","Redirect","fn","bol","props","Comp","console","log","Protect","Component","render","localStorage","getItem","component","level","others","userLevel","path"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,KAAR,EAAcC,QAAd,QAA6B,kBAA7B,C,CACA;;AACA,SAASC,EAAT,CAAYC,GAAZ,EAAgBC,KAAhB,EAAsBC,IAAtB,EAA2B;AACvBC,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ,EAAkBC,IAAlB;AACA,SAAO,CAACF,GAAD,gBAAK,oBAAC,IAAD,oBAAUC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAL,gBAAgC,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAvC;AACH,C,CACD;;;AACA,MAAMI,OAAN,SAAsBT,KAAK,CAACU,SAA5B,CAAqC;AACjCC,EAAAA,MAAM,GAAE;AACJ,QAAIP,GAAG,GAAGQ,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAV;AACA,QAAI;AAACC,MAAAA,SAAS,EAACR,IAAX;AAAgBS,MAAAA,KAAhB;AAAsB,SAAGC;AAAzB,QAAmC,KAAKX,KAA5C;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYQ,MAAZ,EAAmBV,IAAnB,EAHI,CAIJ;;AACA,QAAIW,SAAS,GAAI,CAAjB;AACA,wBAAO,0CAEHb,GAAG,IAAEW,KAAK,IAAIE,SAAd,gBACA,oBAAC,KAAD;AAAO,MAAA,SAAS,EAAEX,IAAlB;AAAwB,MAAA,IAAI,EAAE,KAAKD,KAAL,CAAWa,IAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,gBAEA,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJG,CAAP;AAOH;;AAdgC;;AAiBrC,eAAeT,OAAf","sourcesContent":["import React from 'react';\r\nimport {Route,Redirect} from 'react-router-dom'\r\n//函数式\r\nfunction fn(bol,props,Comp){\r\n    console.log(props,Comp)\r\n    return !bol?<Comp {...props}></Comp> : <Redirect to=\"/login\"></Redirect>\r\n}\r\n//  react 中没有vue那样的路由守卫 所以需要自己封装一个组件在组件进行类似的操作\r\nclass Protect extends React.Component{\r\n    render(){\r\n        let bol = localStorage.getItem('wwww')\r\n        let {component:Comp,level,...others} = this.props\r\n        console.log(others,Comp)\r\n        // 4就是用户的level\r\n        let userLevel  = 4;\r\n        return <>\r\n        {\r\n            bol&&level <= userLevel ?\r\n            <Route component={Comp} path={this.props.path}></Route>:\r\n            <Redirect to=\"/login\"></Redirect>\r\n        }\r\n        </>\r\n    }\r\n\r\n}\r\nexport default Protect"]},"metadata":{},"sourceType":"module"}