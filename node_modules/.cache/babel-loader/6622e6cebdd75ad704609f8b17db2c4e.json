{"ast":null,"code":"var _jsxFileName = \"F:\\\\react\\\\learning\\\\studyreact\\\\src\\\\day6\\\\1_router.js\";\nimport React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, HashRouter, Link, NavLink, Route, Switch, Redirect } from 'react-router-dom';\nimport Protect from './components/protect'; // BrowserRouter 利用的是H5 history api;对比VUE就是history默认是popState\n// HashRouter 利用的是hashChange 对比VUE就是hash模式 \n// 项目中 我们需要使用 这两个组件中的一个 把 根组件包起来\n// Link 相当于 VUE中的router-link 用来跳转对应（to属性跟的值）路径\n// NavLink 用法等于 Link;比Link多了一个类名 可以设置选中效果\n// Route 相当于 Vue的router-view 用来展示对应的路径 对应的那个组件\n// Switch 用这个组件把 用到的Route包起来，可以避免react每一个Route都去匹配的情形\n// 子路由 属于哪个组件的子路径  就在哪个组建中编写Link和Route\n// 在react中 我们可以使用search或者是params的方式进行参数传递\n//  若是search的方式我们可以通过 location.search 或者this.props.location.search\n// 若是params 我们需要在编写Route组件的时候 /xxx/:属性名 ，调用的时候 我们通过this.props.match.params接收参数\n// import Home from './components/home'\n// import User from './components/user'\n// react中的路由懒加载 插件 react-loadable\n// import Loadable from 'react-loadable'\n// let Home  = Loadable({\n//     loader:()=> import('./components/home.js'),\n//     loading:()=> <h3>正在加载</h3>\n// })\n// let User  = Loadable({\n//     loader:()=> import('./components/user.js'),\n//     loading:()=> <h3>正在加载</h3>\n// })\n// loadable 原理实现\n// 函数式组件形式\n// function myloadable(obj){\n//     let {loader,loading:Loading} = obj;\n//     let Bar = null\n//     return function Temp(){\n//         let [Bar,setBar] = useState(null)\n//         let [flag,setFlag] = useState(false)\n//         useEffect(()=>{\n//             //加载要引入的组件 home 、user\n//             loader().then(data=>{\n//                 console.log(data)\n//                 Bar = data.default \n//                 setFlag(true)\n//             })\n//         },[])\n//         console.log(Bar)\n//         return <>\n//             {\n//                 flag?\n//                 <Bar></Bar>:\n//                 <Loading></Loading>\n//             }\n//         </>\n//     }\n// }\n// class组件形式\n\nfunction myloadable(obj) {\n  var _temp;\n\n  let {\n    loader,\n    loading: Loading\n  } = obj;\n  return _temp = class Temp extends React.Component {\n    constructor(...args) {\n      super(...args);\n      this.state = {\n        Bar: null\n      };\n    }\n\n    componentDidMount() {\n      loader().then(data => {\n        this.setState({\n          Bar: data.default\n        });\n      });\n    }\n\n    render() {\n      let {\n        Bar\n      } = this.state;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, Bar ? /*#__PURE__*/React.createElement(Bar, Object.assign({}, this.props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }\n      })) : /*#__PURE__*/React.createElement(Loading, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }\n      }));\n    }\n\n  }, _temp;\n}\n\nlet Home = myloadable({\n  loader: () => import('./components/home'),\n  loading: () => /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, \"\\u6B63\\u5728\\u52A0\\u8F7D\")\n});\nlet User = myloadable({\n  loader: () => import('./components/user'),\n  loading: () => /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, \"\\u6B63\\u5728\\u52A0\\u8F7D\")\n}); // let Temp = ()=><h1>哈哈哈哈</h1>\n\nclass App extends React.Component {\n  constructor() {\n    super();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/home/111\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, \"\\u9996\\u9875\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, \"\\u7528\\u6237\"), /*#__PURE__*/React.createElement(NavLink, {\n      to: \"/home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }, \"\\u9996\\u9875\"), /*#__PURE__*/React.createElement(NavLink, {\n      to: \"/user?qqq=123&www=123\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, \"\\u7528\\u6237\"), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Redirect, {\n      path: \"/\",\n      exact: true,\n      to: \"/home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Protect, {\n      path: \"/home/:qqq\",\n      component: Home,\n      level: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, \"\\u9996\\u98751\"), /*#__PURE__*/React.createElement(Route, {\n      path: \"/home\",\n      component: Home,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/user\",\n      component: User,\n      level: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/*\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }\n    }, \"404\")));\n  }\n\n}\n\nReactDOM.render( /*#__PURE__*/React.createElement(BrowserRouter, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 17\n  }\n}, /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 32\n  }\n})), document.getElementById('root'));","map":{"version":3,"sources":["F:/react/learning/studyreact/src/day6/1_router.js"],"names":["React","useState","useEffect","ReactDOM","BrowserRouter","HashRouter","Link","NavLink","Route","Switch","Redirect","Protect","myloadable","obj","loader","loading","Loading","Temp","Component","state","Bar","componentDidMount","then","data","setState","default","render","props","Home","User","App","constructor","document","getElementById"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,SAAQC,aAAR,EAAsBC,UAAtB,EAAiCC,IAAjC,EAAsCC,OAAtC,EAA8CC,KAA9C,EAAoDC,MAApD,EAA2DC,QAA3D,QAA0E,kBAA1E;AACA,OAAOC,OAAP,MAAoB,sBAApB,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA,SAASC,UAAT,CAAoBC,GAApB,EAAwB;AAAA;;AACpB,MAAI;AAACC,IAAAA,MAAD;AAAQC,IAAAA,OAAO,EAACC;AAAhB,MAA2BH,GAA/B;AACA,iBAAO,MAAMI,IAAN,SAAmBjB,KAAK,CAACkB,SAAzB,CAAkC;AAAA;AAAA;AAAA,WACrCC,KADqC,GAC7B;AACJC,QAAAA,GAAG,EAAC;AADA,OAD6B;AAAA;;AAIrCC,IAAAA,iBAAiB,GAAE;AACfP,MAAAA,MAAM,GAAGQ,IAAT,CAAcC,IAAI,IAAE;AAChB,aAAKC,QAAL,CAAc;AACVJ,UAAAA,GAAG,EAACG,IAAI,CAACE;AADC,SAAd;AAGH,OAJD;AAKH;;AACDC,IAAAA,MAAM,GAAE;AACJ,UAAI;AAACN,QAAAA;AAAD,UAAQ,KAAKD,KAAjB;AACA,0BAAO,0CAEHC,GAAG,gBACH,oBAAC,GAAD,oBAAS,KAAKO,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADG,gBAEH,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJG,CAAP;AAMH;;AAnBoC,GAAzC;AAqBH;;AAGD,IAAIC,IAAI,GAAGhB,UAAU,CAAC;AAClBE,EAAAA,MAAM,EAAC,MAAK,OAAO,mBAAP,CADM;AAElBC,EAAAA,OAAO,EAAC,mBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFM,CAAD,CAArB;AAIA,IAAIc,IAAI,GAAGjB,UAAU,CAAC;AAClBE,EAAAA,MAAM,EAAC,MAAI,OAAO,mBAAP,CADO;AAElBC,EAAAA,OAAO,EAAC,mBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFM,CAAD,CAArB,C,CAKA;;AAEA,MAAMe,GAAN,SAAkB9B,KAAK,CAACkB,SAAxB,CAAiC;AAC7Ba,EAAAA,WAAW,GAAE;AACT;AACH;;AACDL,EAAAA,MAAM,GAAE;AACJ,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACH,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADG,eAEH,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFG,eAGH,oBAAC,OAAD;AAAS,MAAA,EAAE,EAAC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHG,eAIH,oBAAC,OAAD;AAAS,MAAA,EAAE,EAAC,uBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJG,eAKH,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAII,oBAAC,QAAD;AAAU,MAAA,IAAI,EAAC,GAAf;AAAmB,MAAA,KAAK,MAAxB;AAAyB,MAAA,EAAE,EAAC,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,eAKI,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAC,YAAd;AAA2B,MAAA,SAAS,EAAEE,IAAtC;AAA4C,MAAA,KAAK,EAAC,GAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBALJ,eAMI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,SAAS,EAAEA,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,eAOI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,SAAS,EAAEC,IAA/B;AAAqC,MAAA,KAAK,EAAC,GAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,eAQI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aARJ,CALG,CAAP;AAgBH;;AArB4B;;AAyBjC1B,QAAQ,CAACuB,MAAT,eAAgB,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAe,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAf,CAAhB,EAAsDM,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAtD","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport {BrowserRouter,HashRouter,Link,NavLink,Route,Switch,Redirect} from 'react-router-dom'\r\nimport Protect from './components/protect'\r\n// BrowserRouter 利用的是H5 history api;对比VUE就是history默认是popState\r\n// HashRouter 利用的是hashChange 对比VUE就是hash模式 \r\n// 项目中 我们需要使用 这两个组件中的一个 把 根组件包起来\r\n// Link 相当于 VUE中的router-link 用来跳转对应（to属性跟的值）路径\r\n// NavLink 用法等于 Link;比Link多了一个类名 可以设置选中效果\r\n// Route 相当于 Vue的router-view 用来展示对应的路径 对应的那个组件\r\n// Switch 用这个组件把 用到的Route包起来，可以避免react每一个Route都去匹配的情形\r\n// 子路由 属于哪个组件的子路径  就在哪个组建中编写Link和Route\r\n// 在react中 我们可以使用search或者是params的方式进行参数传递\r\n//  若是search的方式我们可以通过 location.search 或者this.props.location.search\r\n// 若是params 我们需要在编写Route组件的时候 /xxx/:属性名 ，调用的时候 我们通过this.props.match.params接收参数\r\n\r\n// import Home from './components/home'\r\n// import User from './components/user'\r\n// react中的路由懒加载 插件 react-loadable\r\n// import Loadable from 'react-loadable'\r\n\r\n// let Home  = Loadable({\r\n//     loader:()=> import('./components/home.js'),\r\n//     loading:()=> <h3>正在加载</h3>\r\n// })\r\n\r\n// let User  = Loadable({\r\n//     loader:()=> import('./components/user.js'),\r\n//     loading:()=> <h3>正在加载</h3>\r\n// })\r\n// loadable 原理实现\r\n// 函数式组件形式\r\n// function myloadable(obj){\r\n//     let {loader,loading:Loading} = obj;\r\n//     let Bar = null\r\n//     return function Temp(){\r\n//         let [Bar,setBar] = useState(null)\r\n//         let [flag,setFlag] = useState(false)\r\n//         useEffect(()=>{\r\n//             //加载要引入的组件 home 、user\r\n//             loader().then(data=>{\r\n//                 console.log(data)\r\n//                 Bar = data.default \r\n//                 setFlag(true)\r\n//             })\r\n//         },[])\r\n//         console.log(Bar)\r\n//         return <>\r\n//             {\r\n//                 flag?\r\n//                 <Bar></Bar>:\r\n//                 <Loading></Loading>\r\n//             }\r\n//         </>\r\n//     }\r\n// }\r\n\r\n// class组件形式\r\nfunction myloadable(obj){\r\n    let {loader,loading:Loading} = obj\r\n    return class Temp extends React.Component{\r\n        state = {\r\n            Bar:null\r\n        }\r\n        componentDidMount(){\r\n            loader().then(data=>{\r\n                this.setState({\r\n                    Bar:data.default\r\n                })\r\n            })\r\n        }\r\n        render(){\r\n            let {Bar} = this.state\r\n            return <>\r\n            {\r\n                Bar?\r\n                <Bar {...this.props}/>:\r\n                <Loading></Loading>\r\n            }</>\r\n        }\r\n    }\r\n}\r\n\r\n\r\nlet Home = myloadable({\r\n    loader:()=> import('./components/home'),\r\n    loading:()=><h3>正在加载</h3>\r\n})\r\nlet User = myloadable({\r\n    loader:()=>import('./components/user'),\r\n    loading:()=><h3>正在加载</h3>\r\n})\r\n\r\n// let Temp = ()=><h1>哈哈哈哈</h1>\r\n\r\nclass App extends React.Component{\r\n    constructor(){\r\n        super()\r\n    }\r\n    render(){\r\n        return <div>\r\n            <Link to=\"/home/111\">首页</Link>\r\n            <Link to=\"/user\">用户</Link>\r\n            <NavLink to=\"/home\">首页</NavLink>\r\n            <NavLink to=\"/user?qqq=123&www=123\">用户</NavLink>\r\n            <Switch>\r\n                {/* <Route path=\"/\" exact Component={Temp}></Route> */}\r\n                {/* exact是精确匹配的意思 只有当前路径 与 path的值完全相等的时候才行 */}\r\n                {/* 当前路径s若是/，则重定向到 /home */}\r\n                <Redirect path=\"/\" exact to=\"/home\"></Redirect>\r\n                <Protect path=\"/home/:qqq\" component={Home} level=\"3\">首页1</Protect>\r\n                <Route path=\"/home\" component={Home} ></Route>\r\n                <Route path=\"/user\" component={User} level=\"3\"></Route>\r\n                <Route path=\"/*\">404</Route>\r\n            </Switch>\r\n        </div>\r\n    }\r\n}\r\n\r\n\r\nReactDOM.render(<BrowserRouter><App/></BrowserRouter>,document.getElementById('root'))"]},"metadata":{},"sourceType":"module"}